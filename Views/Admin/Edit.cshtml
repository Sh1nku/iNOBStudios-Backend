
@{
    ViewData["Title"] = "Edit Post";
}

@section Head {
    <link rel="stylesheet" type="text/css" href="~/css/modalStyle.css" asp-append-version="true" />
    <link rel="stylesheet" type="text/css" href="~/css/Admin/Edit/edit.css" asp-append-version="true" />

    <script src="~/js/helpers.js" asp-append-version="true"></script>
    <script src="~/js/Admin/Edit/store.js" asp-append-version="true"></script>
    <script src="~/js/Admin/Edit/app.js" asp-append-version="true"></script>
}

<script type="text/javascript">
        var model = JSON.parse('@Json.Serialize(@Model)');
</script>

<template v-if="postVersion">
    <div class="row">
        <div class="col-sm">
            <h1>Edit Post</h1>
            <hr />
            <table>
                <tr>
                    <td><h5 class="d-inline">Title: </h5></td>
                    <td><input type="text" v-model="postVersion.title" /></td>
                </tr>
                <tr>
                    <td><button class="btn btn-primary">Update Post</button></td>
                </tr>
            </table>
            <hr />
            <h4>Attachments</h4>
            <table class="table">
                <thead>
                    <tr>
                        <th>Filename</th>
                        <th>Extension</th>
                        <th>Alt Text</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="file in post.externalFiles">
                        <td>{{file.filename}}</td>
                        <td>{{file.MIMEType}}</td>
                        <td><textarea></textarea></td>
                    </tr>
                </tbody>
            </table>
            <hr />
            <table class="table">
                <thead>
                    <tr>
                        <th>File</th>
                        <th>Alt text</th>
                        <th>Upload</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="file" /></td>
                        <td><textarea></textarea></td>
                        <td><button class="btn btn-primary">Upload</button></td>
                    </tr>
                </tbody>
            </table>

<pre v-highlightjs><code class="cpp">
#include &lt;iostream&gt;

int main() {
    auto a = 0;
    auto b = 3;
    std::cout << a << std::endl;
}
</code></pre>
        </div>
    </div>

    <template v-if="tab == 'edit'">
        <a class="nav-button nav-button-active" href="#" @@click="setTab('edit')">Edit</a>|
        <a class="nav-button" href="#" @@click="setTab('display')">Display</a>
        <hr />
        <textarea v-model="postVersion.rawText" style="width:100%"></textarea>
    </template>
    <template v-else>
        <a class="nav-button" href="#" @@click="setTab('edit')">Edit</a>|
        <a id="display" class="nav-button nav-button-active" href="#" @@click="setTab('display')">Display</a>
        <hr />
        <div v-html="parsedText">

        </div>
    </template>

</template>

@section Secondary {
    <!--<div class="row" v-if="postVersion">
            <div class="col-sm half-box">
                <textarea v-model="postVersion.rawText" style="width:100%"></textarea>
            </div>
            <div class="col-sm half-box" v-html="parsedText">

            </div>
        </div>
    -->
    }
